<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>家族财富管理系统 - 本地测试版</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #ecf0f1;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .card-header {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border-radius: 10px 10px 0 0 !important;
            font-weight: 600;
        }
        
        .stat-card {
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #3498db;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            border: none;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            border: none;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            border: none;
        }
        
        .news-item {
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-bottom: 15px;
            background: white;
            padding: 15px;
            border-radius: 0 5px 5px 0;
        }
        
        .toast-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            min-width: 300px;
        }
    </style>
</head>
<body>
    <div class="header text-center">
        <h1><i class="fas fa-chart-line me-3"></i>家族财富管理系统</h1>
        <p class="lead">交互式投资组合管理与分析平台</p>
    </div>

    <div class="container">
        <!-- 统计概览 -->
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-number" id="totalValue">¥1,105,000</div>
                    <div class="text-muted">总资产</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-number" id="cashBalance">¥870,200</div>
                    <div class="text-muted">现金余额</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-number text-success" id="unrealizedPnl">¥3,008</div>
                    <div class="text-muted">未实现盈亏</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <div class="stat-number" id="positionCount">2</div>
                    <div class="text-muted">持仓数量</div>
                </div>
            </div>
        </div>

        <!-- 主要功能区域 -->
        <div class="row">
            <!-- 持仓管理 -->
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-wallet me-2"></i>持仓明细
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>股票代码</th>
                                        <th>持仓数量</th>
                                        <th>成本价</th>
                                        <th>当前价</th>
                                        <th>市值</th>
                                        <th>盈亏</th>
                                        <th>盈亏率</th>
                                        <th>操作</th>
                                    </tr>
                                </thead>
                                <tbody id="positionsTable">
                                    <tr>
                                        <td>
                                            <strong>NVDA</strong><br>
                                            <small class="text-muted">英伟达</small>
                                        </td>
                                        <td>100</td>
                                        <td>¥850.00</td>
                                        <td>¥875.28</td>
                                        <td>¥87,528</td>
                                        <td class="text-success">¥2,528</td>
                                        <td class="text-success">2.97%</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary me-1" onclick="showDetail('NVDA')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-danger" onclick="prepareSell('NVDA')">
                                                <i class="fas fa-arrow-down"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <strong>JNJ</strong><br>
                                            <small class="text-muted">强生</small>
                                        </td>
                                        <td>200</td>
                                        <td>¥150.00</td>
                                        <td>¥152.40</td>
                                        <td>¥30,480</td>
                                        <td class="text-success">¥480</td>
                                        <td class="text-success">1.60%</td>
                                        <td>
                                            <button class="btn btn-sm btn-outline-primary me-1" onclick="showDetail('JNJ')">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-danger" onclick="prepareSell('JNJ')">
                                                <i class="fas fa-arrow-down"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 交易操作 -->
            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-exchange-alt me-2"></i>快速交易
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label">股票代码</label>
                            <input type="text" class="form-control" id="stockSymbol" placeholder="例如: AAPL">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">交易类型</label>
                            <select class="form-control" id="tradeType">
                                <option value="buy">买入</option>
                                <option value="sell">卖出</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">数量</label>
                            <input type="number" class="form-control" id="tradeQuantity" placeholder="交易数量">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">价格</label>
                            <input type="number" class="form-control" id="tradePrice" placeholder="交易价格" step="0.01">
                        </div>
                        <button class="btn btn-primary w-100" onclick="executeTrade()">
                            <i class="fas fa-bolt me-2"></i>执行交易
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 新闻资讯 -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-newspaper me-2"></i>最新资讯
                        <button class="btn btn-sm btn-light float-end" onclick="refreshNews()">
                            <i class="fas fa-sync-alt me-1"></i>刷新
                        </button>
                    </div>
                    <div class="card-body">
                        <div id="newsContainer">
                            <div class="news-item">
                                <h6>英伟达发布新一代AI芯片，性能提升3倍</h6>
                                <p class="text-muted">科技行业迎来重大技术突破，相关概念股值得关注。英伟达新一代AI芯片采用先进工艺制程，在计算性能方面实现显著提升。</p>
                                <div class="d-flex justify-content-between">
                                    <small class="text-muted">
                                        <i class="fas fa-clock me-1"></i>2024-02-11
                                        <i class="fas fa-newspaper ms-2 me-1"></i>财经网
                                    </small>
                                    <small class="text-success">
                                        <i class="fas fa-bolt me-1"></i>影响力: 85%
                                    </small>
                                </div>
                            </div>
                            
                            <div class="news-item">
                                <h6>国际油价突破每桶90美元关口</h6>
                                <p class="text-muted">能源市场波动加剧，投资者需密切关注政策变化。受地缘政治因素影响，国际油价持续走高，相关能源股表现活跃。</p>
                                <div class="d-flex justify-content-between">
                                    <small class="text-muted">
                                        <i class="fas fa-clock me-1"></i>2024-02-11
                                        <i class="fas fa-newspaper ms-2 me-1"></i>华尔街日报
                                    </small>
                                    <small class="text-success">
                                        <i class="fas fa-bolt me-1"></i>影响力: 78%
                                    </small>
                                </div>
                            </div>
                            
                            <div class="news-item">
                                <h6>美联储暗示可能暂停加息周期</h6>
                                <p class="text-muted">金融市场流动性充裕，央行政策走向成为焦点。美联储最新会议纪要显示，官员们对通胀回落表示乐观，可能考虑暂停加息。</p>
                                <div class="d-flex justify-content-between">
                                    <small class="text-muted">
                                        <i class="fas fa-clock me-1"></i>2024-02-11
                                        <i class="fas fa-newspaper ms-2 me-1"></i>路透社
                                    </small>
                                    <small class="text-success">
                                        <i class="fas fa-bolt me-1"></i>影响力: 92%
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 风险分析 -->
        <div class="row mt-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-shield-alt me-2"></i>风险指标
                    </div>
                    <div class="card-body">
                        <p><strong>夏普比率:</strong> <span class="text-success">1.25</span></p>
                        <p><strong>波动率:</strong> <span class="text-warning">15.8%</span></p>
                        <p><strong>最大回撤:</strong> <span class="text-danger">-8.3%</span></p>
                        <p><strong>总收益率:</strong> <span class="text-success">+12.6%</span></p>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <i class="fas fa-search me-2"></i>股票推荐
                    </div>
                    <div class="card-body">
                        <div class="list-group">
                            <div class="list-group-item">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h6 class="mb-1">MSFT - 微软</h6>
                                        <p class="mb-1 text-muted small">云计算业务持续扩张，AI转型顺利</p>
                                    </div>
                                    <div class="text-end">
                                        <span class="badge bg-success">得分: 88%</span>
                                        <button class="btn btn-sm btn-outline-primary ms-2" onclick="quickBuy('MSFT')">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="list-group-item">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <h6 class="mb-1">GOOGL - 谷歌</h6>
                                        <p class="mb-1 text-muted small">广告业务复苏明显，AI投资回报显现</p>
                                    </div>
                                    <div class="text-end">
                                        <span class="badge bg-success">得分: 82%</span>
                                        <button class="btn btn-sm btn-outline-primary ms-2" onclick="quickBuy('GOOGL')">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast通知 -->
    <div class="toast-notification" id="toastContainer"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 简化的应用逻辑
        function executeTrade() {
            const symbol = document.getElementById('stockSymbol').value.toUpperCase();
            const type = document.getElementById('tradeType').value;
            const quantity = document.getElementById('tradeQuantity').value;
            const price = document.getElementById('tradePrice').value;
            
            if (!symbol || !quantity || !price) {
                showToast('请填写完整的交易信息', 'warning');
                return;
            }
            
            const action = type === 'buy' ? '买入' : '卖出';
            showToast(`${action} ${quantity} 股 ${symbol} @ ¥${price} 成功！`, 'success');
            
            // 清空表单
            document.getElementById('stockSymbol').value = '';
            document.getElementById('tradeQuantity').value = '';
            document.getElementById('tradePrice').value = '';
        }
        
        function prepareSell(symbol) {
            document.getElementById('stockSymbol').value = symbol;
            document.getElementById('tradeType').value = 'sell';
            showToast(`已准备卖出 ${symbol}，请填写数量和价格`, 'info');
        }
        
        function showDetail(symbol) {
            showToast(`显示 ${symbol} 详细信息`, 'info');
        }
        
        function quickBuy(symbol) {
            document.getElementById('stockSymbol').value = symbol;
            document.getElementById('tradeType').value = 'buy';
            showToast(`已准备买入 ${symbol}，请填写数量和价格`, 'info');
        }
        
        function refreshNews() {
            showToast('新闻已刷新', 'info');
        }
        
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = 'alert alert-' + getAlertClass(type) + ' alert-dismissible fade show';
            toast.innerHTML = `
                <i class="fas fa-${getAlertIcon(type)} me-2"></i>
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            container.appendChild(toast);
            
            // 3秒后自动关闭
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 3000);
        }
        
        function getAlertClass(type) {
            const classes = {
                'success': 'success',
                'danger': 'danger',
                'warning': 'warning',
                'info': 'info'
            };
            return classes[type] || 'info';
        }
        
        function getAlertIcon(type) {
            const icons = {
                'success': 'check-circle',
                'danger': 'exclamation-circle',
                'warning': 'exclamation-triangle',
                'info': 'info-circle'
            };
            return icons[type] || 'info-circle';
        }
        
        // 模拟价格自动更新
        setInterval(() => {
            // 随机小幅价格波动
            const tables = document.querySelectorAll('#positionsTable td:nth-child(4)');
            tables.forEach(cell => {
                const currentPrice = parseFloat(cell.textContent.replace('¥', '').replace(',', ''));
                const change = (Math.random() - 0.5) * 2; // -1到+1的随机变化
                const newPrice = Math.max(0.01, currentPrice + change);
                cell.textContent = '¥' + newPrice.toFixed(2);
            });
        }, 5000);
    </script>
</body>
</html>