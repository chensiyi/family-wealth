# æ•°æ®ä¸­å°æ¨¡å— (Data Hub)

## ğŸ“‹ æ¨¡å—æ¦‚è¿°

æ•°æ®ä¸­å°æ¨¡å—æ˜¯å®¶æ—è´¢å¯Œç®¡ç†ç³»ç»Ÿçš„æ ¸å¿ƒæ•°æ®åŸºç¡€è®¾æ–½ï¼Œæä¾›ç»Ÿä¸€çš„æ•°æ®æ¥å…¥ã€ç¼“å­˜ç®¡ç†å’Œåˆ†å‘æœåŠ¡ã€‚è¯¥æ¨¡å—å®ç°äº†"å•ä¸€å…¥å£ã€ç»Ÿä¸€ç®¡ç†ã€æ™ºèƒ½ç¼“å­˜"çš„æ¶æ„è®¾è®¡ç†å¿µã€‚

## ğŸ—ï¸ æ¶æ„ç‰¹ç‚¹

### æ ¸å¿ƒè®¾è®¡åŸåˆ™
- **ç»Ÿä¸€å…¥å£**: æ‰€æœ‰å¤–éƒ¨æ•°æ®è®¿é—®å¿…é¡»é€šè¿‡æ•°æ®ä¸­å°
- **ç¼“å­˜ä¼˜åŒ–**: å¤šçº§ç¼“å­˜ç­–ç•¥ï¼Œä¼˜å…ˆä½¿ç”¨æœ¬åœ°ç¼“å­˜
- **é…ç½®é©±åŠ¨**: æ•°æ®æºé…ç½®åŒ–ç®¡ç†ï¼Œæ”¯æŒåŠ¨æ€æ‰©å±•
- **ç›‘æ§å®Œå¤‡**: å®Œæ•´çš„è®¿é—®æ—¥å¿—å’Œæ€§èƒ½ç›‘æ§

### ä¸‰å±‚æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         åº”ç”¨æ¥å£å±‚              â”‚
â”‚  (REST API / SDK / Direct)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        æœåŠ¡ç¼–æ’å±‚               â”‚
â”‚  - æ•°æ®æºç®¡ç†                   â”‚
â”‚  - ç¼“å­˜ç®¡ç†                     â”‚
â”‚  - æ•°æ®è®¿é—®æœåŠ¡                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        å­˜å‚¨ä¸ç¼“å­˜å±‚             â”‚
â”‚  - å…ƒæ•°æ®æ•°æ®åº“                 â”‚
â”‚  - ç¼“å­˜æ•°æ®åº“                   â”‚
â”‚  - å†…å­˜ç¼“å­˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ ç›®å½•ç»“æ„

```
data-hub/
â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ data_hub_config.ini   # ä¸»é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ source_configs/       # æ•°æ®æºé…ç½®ç›®å½•
â”œâ”€â”€ core/                      # æ ¸å¿ƒæœåŠ¡
â”‚   â”œâ”€â”€ data_source_manager.py # æ•°æ®æºç®¡ç†å™¨
â”‚   â”œâ”€â”€ cache_manager.py      # ç¼“å­˜ç®¡ç†å™¨
â”‚   â””â”€â”€ data_access_service.py # æ•°æ®è®¿é—®æœåŠ¡
â”œâ”€â”€ storage/                   # å­˜å‚¨å±‚
â”‚   â”œâ”€â”€ metadata_db.py        # å…ƒæ•°æ®æ•°æ®åº“
â”‚   â”œâ”€â”€ cache_db.py           # ç¼“å­˜æ•°æ®åº“
â”‚   â””â”€â”€ initialize_hub_database.py # åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ sources/                   # æ•°æ®æºé€‚é…å™¨ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ cache/                     # ç¼“å­˜å®ç°ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ api/                       # å¯¹å¤–æ¥å£ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ utils/                     # å·¥å…·ç»„ä»¶ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ tests/                     # æµ‹è¯•å¥—ä»¶ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ DESIGN_DOCUMENT.md        # è®¾è®¡æ–‡æ¡£
â”œâ”€â”€ main.py                   # ä¸»å…¥å£æ–‡ä»¶
â””â”€â”€ README.md                 # è¯´æ˜æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–æ•°æ®åº“
```bash
cd software-modules/data-hub
python storage/initialize_hub_database.py
```

### 2. å¯åŠ¨æ•°æ®ä¸­å°
```bash
python main.py
```

### 3. éªŒè¯è¿è¡ŒçŠ¶æ€
```python
# åœ¨Pythonç¯å¢ƒä¸­æµ‹è¯•
from main import DataHub

hub = DataHub()
print(hub.health_check())
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½

### æ•°æ®æºç®¡ç†
```python
# æ³¨å†Œæ–°çš„æ•°æ®æº
source_config = {
    'source_id': 'custom_api',
    'name': 'è‡ªå®šä¹‰æ•°æ®æº',
    'type': 'financial',
    'adapter_class': 'CustomAdapter',
    'config': {
        'base_url': 'https://api.example.com',
        'api_key': 'your-api-key'
    }
}

hub.get_source_manager().register_source(source_config)
```

### æ•°æ®è®¿é—®æœåŠ¡
```python
# è·å–é‡‘èæ•°æ®
data_service = hub.get_data_access_service()
result = data_service.get_financial_data(
    symbol='AAPL',
    data_type='prices',
    start_date='2024-01-01',
    end_date='2024-12-31'
)

if result['success']:
    print(f"æ•°æ®æ¥æº: {result['source']}")
    print(f"æ•°æ®æ¡æ•°: {len(result['data'])}")
```

### ç¼“å­˜ç®¡ç†
```python
# æ‰‹åŠ¨ç®¡ç†ç¼“å­˜
cache_manager = hub.get_cache_manager()

# è®¾ç½®ç¼“å­˜
cache_manager.set_cached_data('my_key', {'data': 'value'}, ttl=3600)

# è·å–ç¼“å­˜
cached_data = cache_manager.get_cached_data('my_key')

# æ¸…ç†è¿‡æœŸç¼“å­˜
cleaned_count = cache_manager.clear_expired_cache()
```

## ğŸ“Š ç¼“å­˜ç­–ç•¥

### å¤šçº§ç¼“å­˜æœºåˆ¶
1. **å†…å­˜ç¼“å­˜**: æœ€å¿«è®¿é—®é€Ÿåº¦ï¼Œå®¹é‡æœ‰é™
2. **ç£ç›˜ç¼“å­˜**: æŒä¹…åŒ–å­˜å‚¨ï¼Œå®¹é‡è¾ƒå¤§
3. **æ™ºèƒ½å¤±æ•ˆ**: åŸºäºæ—¶é—´æˆ³å’Œè®¿é—®é¢‘ç‡

### TTLé…ç½®
- **å®æ—¶æ•°æ®**: 15åˆ†é’Ÿç¼“å­˜
- **æ—¥çº¿æ•°æ®**: 1å°æ—¶ç¼“å­˜  
- **åŸºæœ¬é¢æ•°æ®**: 24å°æ—¶ç¼“å­˜
- **å†å²æ•°æ®**: 7å¤©ç¼“å­˜

## ğŸ”Œ å¯¹å¤–æ¥å£

### RESTful APIï¼ˆè§„åˆ’ä¸­ï¼‰
```
GET    /api/v1/data/financial/{symbol}
GET    /api/v1/data/economic/{indicator}
GET    /api/v1/data/corporate/{symbol}
POST   /api/v1/cache/refresh
GET    /api/v1/sources/list
GET    /api/v1/health
```

### Python SDKï¼ˆè§„åˆ’ä¸­ï¼‰
```python
from data_hub import DataHubClient

client = DataHubClient(base_url='http://localhost:8000')
data = client.get_financial_data('MSFT', 'daily')
```

## ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

### è®¿é—®æ§åˆ¶
- APIå¯†é’¥è®¤è¯
- è¯·æ±‚é¢‘ç‡é™åˆ¶
- IPç™½åå•æœºåˆ¶

### æ•°æ®ä¿æŠ¤
- æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨
- è®¿é—®æ—¥å¿—å®¡è®¡
- æ•°æ®è„±æ•å¤„ç†

## ğŸ“ˆ ç›‘æ§ä¸è¿ç»´

### å¥åº·æ£€æŸ¥
```python
# ç³»ç»Ÿå¥åº·çŠ¶æ€
health = hub.health_check()
print(f"æ•´ä½“çŠ¶æ€: {health['status']}")
print(f"æ•°æ®åº“çŠ¶æ€: {health['database']}")
print(f"æœåŠ¡çŠ¶æ€: {health['services']}")
```

### æ€§èƒ½ç›‘æ§
- ç¼“å­˜å‘½ä¸­ç‡ç»Ÿè®¡
- APIå“åº”æ—¶é—´ç›‘æ§
- æ•°æ®æºå¯ç”¨æ€§æ£€æµ‹
- é”™è¯¯ç‡è·Ÿè¸ª

### æ—¥å¿—ç®¡ç†
- è®¿é—®æ—¥å¿—è®°å½•
- æ€§èƒ½æŒ‡æ ‡æ”¶é›†
- å¼‚å¸¸å‘Šè­¦æœºåˆ¶

## ğŸ”„ æ•°æ®æºæ‰©å±•

### æ·»åŠ æ–°çš„æ•°æ®æºé€‚é…å™¨
1. ç»§æ‰¿åŸºç¡€é€‚é…å™¨ç±»
2. å®ç°æ•°æ®è·å–æ–¹æ³•
3. æ³¨å†Œåˆ°æ•°æ®æºç®¡ç†å™¨
4. é…ç½®ç¼“å­˜ç­–ç•¥

### æ”¯æŒçš„æ•°æ®æºç±»å‹
- é‡‘èæ•°æ®æä¾›å•†ï¼ˆYahoo Finance, Alpha Vantageç­‰ï¼‰
- ç»æµæ•°æ®åº“ï¼ˆFRED, World Bankç­‰ï¼‰
- ä¼ä¸šæ•°æ®åº“ï¼ˆSEC EDGAR, Bloombergç­‰ï¼‰
- è‡ªå®šä¹‰APIæ¥å£

## ğŸ“‹ å¾…å®ŒæˆåŠŸèƒ½

- [ ] RESTful APIæœåŠ¡å®ç°
- [ ] æ•°æ®æºé€‚é…å™¨æ¡†æ¶
- [ ] é«˜çº§ç¼“å­˜ç­–ç•¥
- [ ] åˆ†å¸ƒå¼éƒ¨ç½²æ”¯æŒ
- [ ] å®Œæ•´çš„æµ‹è¯•å¥—ä»¶
- [ ] ç›‘æ§é¢æ¿å¼€å‘
- [ ] æ–‡æ¡£å®Œå–„

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### å®¶æ—åŠå…¬å®¤åº”ç”¨
- æŠ•èµ„ç»„åˆæ•°æ®èšåˆ
- ç»æµæŒ‡æ ‡ç›‘æ§
- é£é™©è¯„ä¼°æ•°æ®æ”¯æŒ
- å†³ç­–æ”¯æŒç³»ç»Ÿé›†æˆ

### ç³»ç»Ÿé›†æˆ
- æ›¿ä»£åŸæœ‰çš„data-collectoræ¨¡å—
- ä¸ºæ²™ç›˜ç³»ç»Ÿæä¾›ç»Ÿä¸€æ•°æ®æ¥å£
- æ”¯æŒå¤šæ¨¡å—é—´æ•°æ®å…±äº«
- æä¾›æ ‡å‡†åŒ–çš„æ•°æ®è®¿é—®åè®®

---
*æ–‡æ¡£ç‰ˆæœ¬: v1.0*  
*æœ€åæ›´æ–°: 2026å¹´2æœˆ11æ—¥*